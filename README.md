# Friend Decider

> **AI Disclaimer:** This project was mostly generated by AI. While it was built with security in mind, it has only been minimally verified by a human. Hosting it inside a container is considered safe — all state is in-memory only, nothing is written to disk, and there are no outbound connections. The worst-case attack surface is a temporary denial of service, which a container restart resolves instantly.

A lightweight real-time collaborative voting app. Friends join a shared session, add activities to vote on, and collectively decide what to do.

## Features

- Real-time updates via WebSockets
- Three views: Items, Voting, Results — navigate freely with tabs or Back/Next buttons
- Results are computed live and update in real-time as votes or items change
- Scoring: In Favor (+2), Neutral (0), Against (−5) — customisable by the session creator
- Sessions auto-expire 5 minutes after everyone disconnects

## Running with Docker or Podman (recommended)

```bash
docker build -t friend-decider .
docker run -p 3000:3000 -e CREATION_PASSWORD=yourpassword friend-decider
```

Podman users can substitute `docker` with `podman` in the commands above.

Then open [http://localhost:3000](http://localhost:3000).

## Running without Docker

Requires Node.js 20+.

```bash
npm install
CREATION_PASSWORD=yourpassword node server/index.js
```

## Configuration

| Environment variable | Required | Description |
|---|---|---|
| `CREATION_PASSWORD` | No | Comma-separated list of passwords that allow session creation (e.g. `alice123,bob456`). Min 8 characters per password recommended. If unset, session creation is open to anyone. |
| `MAX_SESSIONS_PER_IP` | No | Max number of active sessions a single IP can create. Defaults to `5`. Set to `0` to disable the limit. |
| `PORT` | No | Port to listen on. Defaults to `3000`. |
| `HOST` | No | Address to bind to. Defaults to `::` (all interfaces, IPv4+IPv6). Set to `::1` for IPv6 localhost or `127.0.0.1` for IPv4 localhost only. |

## Usage

1. Open the app and enter your name (and creation password if configured) to create a session
2. Share the session URL with your friends
3. Use the **Items** tab to add things to vote on
4. Switch to **Voting** and vote **In Favor**, **Neutral**, or **Against** on each item
5. Switch to **Results** at any time to see the live rankings
6. Each participant navigates independently — no host control required
